{"ast":null,"code":"import{useState}from'react';import{Box,TextField,Button}from'@mui/material';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const endpointMapping={'Notion':'notion','Airtable':'airtable','Hubspot':'hubspot/get_hubspot_items'};export const DataForm=_ref=>{let{integrationType,credentials}=_ref;const[loadedData,setLoadedData]=useState(null);const endpoint=endpointMapping[integrationType];const handleLoad=async()=>{try{const formData=new FormData();formData.append('credentials',JSON.stringify(credentials));console.log(\"Posting to:\",\"http://localhost:8000/integrations/\".concat(endpoint,\"/load\"));const response=await axios.post(\"http://localhost:8000/integrations/\".concat(endpoint,\"/load\"),formData);const data=response.data;setLoadedData(data);}catch(e){var _e$response,_e$response$data;alert(e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:(_e$response$data=_e$response.data)===null||_e$response$data===void 0?void 0:_e$response$data.detail);}};return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",flexDirection:\"column\",width:\"100%\",children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",width:\"100%\",children:[/*#__PURE__*/_jsx(TextField,{label:\"Loaded Data\",value:loadedData||'',sx:{mt:2},InputLabelProps:{shrink:true},disabled:true}),/*#__PURE__*/_jsx(Button,{onClick:handleLoad,sx:{mt:2},variant:\"contained\",children:\"Load Data\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setLoadedData(null),sx:{mt:1},variant:\"contained\",children:\"Clear Data\"})]})});};","map":{"version":3,"names":["useState","Box","TextField","Button","axios","jsx","_jsx","jsxs","_jsxs","endpointMapping","DataForm","_ref","integrationType","credentials","loadedData","setLoadedData","endpoint","handleLoad","formData","FormData","append","JSON","stringify","console","log","concat","response","post","data","e","_e$response","_e$response$data","alert","detail","display","justifyContent","alignItems","flexDirection","width","children","label","value","sx","mt","InputLabelProps","shrink","disabled","onClick","variant"],"sources":["/Users/aditichinta/Downloads/integrations_technical_assessment/frontend/src/data-form.js"],"sourcesContent":["import { useState } from 'react';\nimport {\n    Box,\n    TextField,\n    Button,\n} from '@mui/material';\nimport axios from 'axios';\n\nconst endpointMapping = {\n    'Notion': 'notion',\n    'Airtable': 'airtable',\n    'Hubspot': 'hubspot/get_hubspot_items'\n};\n\nexport const DataForm = ({ integrationType, credentials }) => {\n    const [loadedData, setLoadedData] = useState(null);\n    const endpoint = endpointMapping[integrationType];\n\n    const handleLoad = async () => {\n        try {\n            const formData = new FormData();\n            formData.append('credentials', JSON.stringify(credentials));\n            console.log(\"Posting to:\", `http://localhost:8000/integrations/${endpoint}/load`);\n            const response = await axios.post(`http://localhost:8000/integrations/${endpoint}/load`, formData);\n            const data = response.data;\n            setLoadedData(data);\n        } catch (e) {\n            alert(e?.response?.data?.detail);\n        }\n    }\n\n    return (\n        <Box display='flex' justifyContent='center' alignItems='center' flexDirection='column' width='100%'>\n            <Box display='flex' flexDirection='column' width='100%'>\n                <TextField\n                    label=\"Loaded Data\"\n                    value={loadedData || ''}\n                    sx={{mt: 2}}\n                    InputLabelProps={{ shrink: true }}\n                    disabled\n                />\n                <Button\n                    onClick={handleLoad}\n                    sx={{mt: 2}}\n                    variant='contained'\n                >\n                    Load Data\n                </Button>\n                <Button\n                    onClick={() => setLoadedData(null)}\n                    sx={{mt: 1}}\n                    variant='contained'\n                >\n                    Clear Data\n                </Button>\n            </Box>\n        </Box>\n    );\n}\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OACIC,GAAG,CACHC,SAAS,CACTC,MAAM,KACH,eAAe,CACtB,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,eAAe,CAAG,CACpB,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,UAAU,CACtB,SAAS,CAAE,2BACf,CAAC,CAED,MAAO,MAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAsC,IAArC,CAAEC,eAAe,CAAEC,WAAY,CAAC,CAAAF,IAAA,CACrD,KAAM,CAACG,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAAAgB,QAAQ,CAAGP,eAAe,CAACG,eAAe,CAAC,CAEjD,KAAM,CAAAK,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,aAAa,CAAEC,IAAI,CAACC,SAAS,CAACT,WAAW,CAAC,CAAC,CAC3DU,OAAO,CAACC,GAAG,CAAC,aAAa,uCAAAC,MAAA,CAAwCT,QAAQ,SAAO,CAAC,CACjF,KAAM,CAAAU,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,IAAI,uCAAAF,MAAA,CAAuCT,QAAQ,UAASE,QAAQ,CAAC,CAClG,KAAM,CAAAU,IAAI,CAAGF,QAAQ,CAACE,IAAI,CAC1Bb,aAAa,CAACa,IAAI,CAAC,CACvB,CAAE,MAAOC,CAAC,CAAE,KAAAC,WAAA,CAAAC,gBAAA,CACRC,KAAK,CAACH,CAAC,SAADA,CAAC,kBAAAC,WAAA,CAADD,CAAC,CAAEH,QAAQ,UAAAI,WAAA,kBAAAC,gBAAA,CAAXD,WAAA,CAAaF,IAAI,UAAAG,gBAAA,iBAAjBA,gBAAA,CAAmBE,MAAM,CAAC,CACpC,CACJ,CAAC,CAED,mBACI3B,IAAA,CAACL,GAAG,EAACiC,OAAO,CAAC,MAAM,CAACC,cAAc,CAAC,QAAQ,CAACC,UAAU,CAAC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAACC,KAAK,CAAC,MAAM,CAAAC,QAAA,cAC/F/B,KAAA,CAACP,GAAG,EAACiC,OAAO,CAAC,MAAM,CAACG,aAAa,CAAC,QAAQ,CAACC,KAAK,CAAC,MAAM,CAAAC,QAAA,eACnDjC,IAAA,CAACJ,SAAS,EACNsC,KAAK,CAAC,aAAa,CACnBC,KAAK,CAAE3B,UAAU,EAAI,EAAG,CACxB4B,EAAE,CAAE,CAACC,EAAE,CAAE,CAAC,CAAE,CACZC,eAAe,CAAE,CAAEC,MAAM,CAAE,IAAK,CAAE,CAClCC,QAAQ,MACX,CAAC,cACFxC,IAAA,CAACH,MAAM,EACH4C,OAAO,CAAE9B,UAAW,CACpByB,EAAE,CAAE,CAACC,EAAE,CAAE,CAAC,CAAE,CACZK,OAAO,CAAC,WAAW,CAAAT,QAAA,CACtB,WAED,CAAQ,CAAC,cACTjC,IAAA,CAACH,MAAM,EACH4C,OAAO,CAAEA,CAAA,GAAMhC,aAAa,CAAC,IAAI,CAAE,CACnC2B,EAAE,CAAE,CAACC,EAAE,CAAE,CAAC,CAAE,CACZK,OAAO,CAAC,WAAW,CAAAT,QAAA,CACtB,YAED,CAAQ,CAAC,EACR,CAAC,CACL,CAAC,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}